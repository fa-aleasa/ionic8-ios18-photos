<ion-buttons class="ion-padding">
  <ion-button fill="clear" class="subtitle" id="big-swiper-modal">
    <h2>
      <ion-text class="middle" color="dark">{{
        content.label | translate
      }}</ion-text>
      <ion-icon class="middle" color="medium" name="chevron-forward"></ion-icon>
    </h2>
  </ion-button>
</ion-buttons>

<swiper-container
  [spaceBetween]="10"
  [slidesPerView]="1.15"
  [modules]="swiperModules"
>
  @for (item of content.items; track $index) {
  <swiper-slide>
    <ion-card
      [style]="cardStyle"
      [style.background]="item.background"
      [color]="item.color"
      button
      [routerLink]="item.button.routerLink"
      [queryParams]="item.button.queryParams"
    >
      @if (item.icon !== '' || item.img !== '') {
      <ion-row class="ion-align-items-center">
        <ion-col size="7">
          @if (item.title !== '' || item.subtitle !== '') {
          <ion-card-header class="no-padding-end">
            @if (item.title !== '') {
            <ion-card-title class="primary-text">{{
              item.title | translate
            }}</ion-card-title>
            } @if (item.subtitle !== '') {
            <ion-card-subtitle class="primary-text">{{
              item.subtitle | translate
            }}</ion-card-subtitle>
            }
          </ion-card-header>
          } @if (item.detail !== '') {
          <ion-card-content class="primary-text no-padding-end">
            {{ item.detail | translate }}
          </ion-card-content>
          }
        </ion-col>
        <ion-col size="5" class="ion-text-center ion-align-self-center">
          @if (item.icon !== '') {
          <ion-icon [name]="item.icon" class="primary-text icon-lg"></ion-icon>
          } @if (item.img !== '') {
          <img [src]="item.img" class="ion-padding-end" />
          }
        </ion-col>
      </ion-row>
      } @if (item.icon === '' && item.img === '') { @if (item.title !== '' ||
      item.subtitle !== '') {
      <ion-card-header>
        @if (item.title !== '') {
        <ion-card-title class="primary-text">{{
          item.title | translate
        }}</ion-card-title>
        } @if (item.subtitle !== '') {
        <ion-card-subtitle class="primary-text">{{
          item.subtitle | translate
        }}</ion-card-subtitle>
        }
      </ion-card-header>
      } @if (item.detail !== '') {
      <ion-card-content class="primary-text">
        {{ item.detail | translate }}
      </ion-card-content>
      } }
    </ion-card>
  </swiper-slide>
  }
</swiper-container>

<ion-modal
  trigger="big-swiper-modal"
  (willDismiss)="onWillDismiss($event)"
  [presentingElement]="presentingElement"
>
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>{{ content.label | translate }}</ion-title>

        <ion-buttons slot="end">
          <ion-button (click)="modal.dismiss()" class="close-btn">
            <ion-icon
              slot="icon-only"
              name="close-circle"
              color="dark"
            ></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">
      <ion-row>
        <ion-col class="ion-padding-bottom">
          @for (item of content.items; track $index) {
          <ion-row>
            <ion-col class="ion-margin-bottom">
              <ion-card
                [style]="cardStyle"
                [style.background]="item.background"
                [color]="item.color"
                button
                [routerLink]="item.button.routerLink"
                [queryParams]="item.button.queryParams"
              >
                @if (item.icon !== '' || item.img !== '') {
                <ion-row class="ion-align-items-center">
                  <ion-col size="7">
                    @if (item.title !== '' || item.subtitle !== '') {
                    <ion-card-header class="no-padding-end">
                      @if (item.title !== '') {
                      <ion-card-title class="primary-text">{{
                        item.title | translate
                      }}</ion-card-title>
                      } @if (item.subtitle !== '') {
                      <ion-card-subtitle class="primary-text">{{
                        item.subtitle | translate
                      }}</ion-card-subtitle>
                      }
                    </ion-card-header>
                    } @if (item.detail !== '') {
                    <ion-card-content class="primary-text no-padding-end">
                      {{ item.detail | translate }}
                    </ion-card-content>
                    }
                  </ion-col>
                  <ion-col
                    size="5"
                    class="ion-text-center ion-align-self-center"
                  >
                    @if (item.icon !== '') {
                    <ion-icon
                      [name]="item.icon"
                      class="primary-text icon-lg"
                    ></ion-icon>
                    } @if (item.img !== '') {
                    <img [src]="item.img" class="ion-padding-end" />
                    }
                  </ion-col>
                </ion-row>
                } @if (item.icon === '' && item.img === '') { @if (item.title
                !== '' || item.subtitle !== '') {
                <ion-card-header>
                  @if (item.title !== '') {
                  <ion-card-title class="primary-text">{{
                    item.title | translate
                  }}</ion-card-title>
                  } @if (item.subtitle !== '') {
                  <ion-card-subtitle class="primary-text">{{
                    item.subtitle | translate
                  }}</ion-card-subtitle>
                  }
                </ion-card-header>
                } @if (item.detail !== '') {
                <ion-card-content class="primary-text">
                  {{ item.detail | translate }}
                </ion-card-content>
                } }
              </ion-card>
            </ion-col>
          </ion-row>
          }
        </ion-col>
      </ion-row>
    </ion-content>
  </ng-template>
</ion-modal>
